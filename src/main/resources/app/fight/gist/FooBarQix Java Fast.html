<div class="gist-it-gist">
<div class="gist-file">
    <div class="gist-data">
        
        <pre class="prettyprint prettyprinted" style=""><span class="kwd">package</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">hjf</span><span class="pun">.</span><span class="pln">foobarqix</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">hjf</span><span class="pun">.</span><span class="pln">foobarqix</span><span class="pun">.</span><span class="typ">Odd</span><span class="pun">.*;</span><span class="pln">

</span><span class="com">/**
 * Implementation of the specification defined
 * &lt;a href="http://www.code-story.net/2011/11/16/foobarqix.html"&gt;here&lt;/a&gt;.
 * 
 * @author Henri Tremblay
 * @author Jean-Fran√ßois Larouche
 */</span><span class="pln">
</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">final</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">FooBarQix</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

	</span><span class="com">//Contains the string who are written depending on the ASCII code</span><span class="pln">
	</span><span class="com">//Why the null? To eliminate the need of subtracting the '0' value from the number</span><span class="pln">
	</span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> </span><span class="typ">String</span><span class="pun">[]</span><span class="pln"> contains </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln">
		</span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln">
		</span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="str">""</span><span class="pun">,</span><span class="pln"> </span><span class="str">""</span><span class="pun">,</span><span class="pln">
		</span><span class="str">""</span><span class="pun">,</span><span class="pln"> THREE</span><span class="pun">.</span><span class="pln">replacement</span><span class="pun">,</span><span class="pln"> </span><span class="str">""</span><span class="pun">,</span><span class="pln"> FIVE</span><span class="pun">.</span><span class="pln">replacement</span><span class="pun">,</span><span class="pln"> </span><span class="str">""</span><span class="pun">,</span><span class="pln"> SEVEN</span><span class="pun">.</span><span class="pln">replacement</span><span class="pun">,</span><span class="pln"> </span><span class="str">""</span><span class="pun">,</span><span class="pln"> </span><span class="str">""</span><span class="pln"> </span><span class="pun">};</span><span class="pln">

	</span><span class="com">/**
	 * Process numbers from the firstNumber to the lastNumber inclusively. Give the result
	 * to the listener.
	 * 
	 * @param firstNumber first number to process
	 * @param lastNumber
	 * @param listener
	 */</span><span class="pln">
	</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> processNumbers</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> firstNumber</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> lastNumber</span><span class="pun">,</span><span class="pln"> </span><span class="typ">FooBarQixListener</span><span class="pln"> listener</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
		</span><span class="typ">StringBuilder</span><span class="pln"> result </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">StringBuilder</span><span class="pun">(</span><span class="lit">12</span><span class="pun">);</span><span class="pln"> </span><span class="com">// 12 being the longest possible result</span><span class="pln">
		</span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> firstNumber</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;=</span><span class="pln"> lastNumber</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
			convertNumber</span><span class="pun">(</span><span class="pln">i</span><span class="pun">,</span><span class="pln"> result</span><span class="pun">);</span><span class="pln">
			listener</span><span class="pun">.</span><span class="pln">handleNumberResult</span><span class="pun">(</span><span class="pln">i</span><span class="pun">,</span><span class="pln"> result</span><span class="pun">.</span><span class="pln">toString</span><span class="pun">());</span><span class="pln">
			result</span><span class="pun">.</span><span class="pln">setLength</span><span class="pun">(</span><span class="lit">0</span><span class="pun">);</span><span class="pln">
		</span><span class="pun">}</span><span class="pln">
	</span><span class="pun">}</span><span class="pln">

	</span><span class="com">/**
	 * Convert the number to its string equivalent
	 * 
	 * @param num the number
	 * @param result result buffer
	 */</span><span class="pln">
	</span><span class="kwd">void</span><span class="pln"> convertNumber</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> num</span><span class="pun">,</span><span class="pln"> </span><span class="typ">StringBuilder</span><span class="pln"> result</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
		</span><span class="com">// check for division first</span><span class="pln">
		textIfDividing</span><span class="pun">(</span><span class="pln">num</span><span class="pun">,</span><span class="pln"> THREE</span><span class="pun">,</span><span class="pln"> result</span><span class="pun">);</span><span class="pln">
		textIfDividing</span><span class="pun">(</span><span class="pln">num</span><span class="pun">,</span><span class="pln"> FIVE</span><span class="pun">,</span><span class="pln"> result</span><span class="pun">);</span><span class="pln">
		textIfDividing</span><span class="pun">(</span><span class="pln">num</span><span class="pun">,</span><span class="pln"> SEVEN</span><span class="pun">,</span><span class="pln"> result</span><span class="pun">);</span><span class="pln">

		</span><span class="com">// then the content</span><span class="pln">
		</span><span class="typ">String</span><span class="pln"> iStr </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Integer</span><span class="pun">.</span><span class="pln">toString</span><span class="pun">(</span><span class="pln">num</span><span class="pun">);</span><span class="pln">
		</span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> iStr</span><span class="pun">.</span><span class="pln">length</span><span class="pun">();</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
			textForContent</span><span class="pun">(</span><span class="pln">iStr</span><span class="pun">.</span><span class="pln">charAt</span><span class="pun">(</span><span class="pln">i</span><span class="pun">),</span><span class="pln"> result</span><span class="pun">);</span><span class="pln">
		</span><span class="pun">}</span><span class="pln">

		</span><span class="com">// when we don't find anything just write the number</span><span class="pln">
		</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">result</span><span class="pun">.</span><span class="pln">length</span><span class="pun">()</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
			result</span><span class="pun">.</span><span class="pln">append</span><span class="pun">(</span><span class="pln">iStr</span><span class="pun">);</span><span class="pln">
		</span><span class="pun">}</span><span class="pln">
	</span><span class="pun">}</span><span class="pln">



	</span><span class="com">/**
	 * Fill the result with the replacement string or nothing
	 * 
	 * @param c the number to convert
	 * @param result result buffer
	 */</span><span class="pln">
	</span><span class="kwd">void</span><span class="pln"> textForContent</span><span class="pun">(</span><span class="kwd">char</span><span class="pln"> c</span><span class="pun">,</span><span class="pln"> </span><span class="typ">StringBuilder</span><span class="pln"> result</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
		result</span><span class="pun">.</span><span class="pln">append</span><span class="pun">(</span><span class="pln">contains</span><span class="pun">[</span><span class="pln">c</span><span class="pun">]);</span><span class="pln">
	</span><span class="pun">}</span><span class="pln">

	</span><span class="com">/**
	 * Checks the number can be divised by num. If yes, append the replacement string to the buffer
	 * 
	 * @param number number to test
	 * @param divider the dividing number
	 * @param result result buffer
	 */</span><span class="pln">
	</span><span class="kwd">void</span><span class="pln"> textIfDividing</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> number</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Odd</span><span class="pln"> divider</span><span class="pun">,</span><span class="pln"> </span><span class="typ">StringBuilder</span><span class="pln"> result</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
		</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">number </span><span class="pun">%</span><span class="pln"> divider</span><span class="pun">.</span><span class="pln">number </span><span class="pun">==</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
			result</span><span class="pun">.</span><span class="pln">append</span><span class="pun">(</span><span class="pln">divider</span><span class="pun">.</span><span class="pln">replacement</span><span class="pun">);</span><span class="pln">
		</span><span class="pun">}</span><span class="pln">
	</span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></pre>
        
    </div>
    
    <div class="gist-meta">
        
        <span><a href="https://github.com/henri-tremblay/foobarqix/blob/master/src/main/java/org/hjf/foobarqix/FooBarQix.java">This Gist</a> brought to you by <a href="http://gist-it.appspot.com">gist-it</a>.</span>
        
        <span style="float: right; color: #369;"><a href="https://github.com/henri-tremblay/foobarqix/raw/master/src/main/java/org/hjf/foobarqix/FooBarQix.java">view raw</a></span>
        <span style="float: right; margin-right: 8px;">
            <a style="color: rgb(102, 102, 102);" href="https://github.com/henri-tremblay/foobarqix/blob/master/src/main/java/org/hjf/foobarqix/FooBarQix.java">FooBarQix.java</a></span>
            <!-- Generated by: http://gist-it.appspot.com -->
    </div>
    
</div>
</div>
